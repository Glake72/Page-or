<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Connexion Google Simple</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <h1>Connexion Google</h1>
  <button id="loginBtn" style="padding: 10px 20px; font-size: 1em;">Se connecter avec Google</button>
  <p id="status" style="margin-top: 20px; font-weight: bold;"></p>

  <script>
    // Remplace ici par ton Client ID OAuth 2.0 (type "Application Web")
    const CLIENT_ID = 'TON_CLIENT_ID_ICI';

    let tokenClient;

    window.onload = () => {
      tokenClient = google.accounts.oauth2.initTokenClient({
        client_id: CLIENT_ID,
        scope: 'https://www.googleapis.com/auth/drive.file',
        callback: (tokenResponse) => {
          if (tokenResponse.error) {
            document.getElementById('status').textContent = 'Erreur : ' + tokenResponse.error;
          } else {
            document.getElementById('status').textContent = 'Connecté avec succès ! Token : ' + tokenResponse.access_token.substring(0, 10) + '...';
          }
        },
      });

      document.getElementById('loginBtn').onclick = () => {
        tokenClient.requestAccessToken();
      };
    };
  </script>
</body>
</html>
